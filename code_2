#include <u.h>

in(int a){
  asm(BIN);//read in a
  asm(PSHA);// transport a to b
  asm(POPB);
  asm(LL,8);//put int_a to a
  asm(BOUT);
}
main_func(){
  asm(PSHA);
  asm(PSHB);
  asm(PSHC);//save genl reg
  in(1);
  asm(POPC);
  asm(POPB);
  asm(POPA);//restore reg
  asm(RTI); //ret
}
ivec(void*){
  asm(LL,8);
  asm(IVEC);
}
  
main()
{
  ivec(main_func);
  asm(STI);
  while(1);
}
